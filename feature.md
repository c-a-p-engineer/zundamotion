# Zundamotion 新機能提案リスト

このドキュメントは、`zundamotion` をより高機能で使いやすい動画生成ツールにするための新機能案を優先度順にリストアップしたものです。

## P1: 表現力の向上 (最優先)

### 2. キャラクターのアニメーション対応 (口パク・まばたき)
- **概要**: 音声に合わせてキャラクターの口が動いたり、定期的にまばたきしたりするアニメーションを実装する。
- **実装案**: 口の開閉パターンや目の開閉パターンを連番画像として用意し、音声の波形データやランダムなタイマーに基づいて表示を切り替える。
- **価値**: キャラクターが生き生きと見え、動画の没入感が格段に向上する。

### 3. テキストエフェクトの強化
- **概要**: 字幕（テロップ）にアニメーション（ポップアップ、スライドインなど）を付けたり、文字単位で色やサイズを指定できるようにする。
- **実装案**: `ffmpeg` の `drawtext` フィルタのオプションを駆使するか、`Ass` (Advanced SubStation Alpha) 形式の字幕ファイルを生成して統合する。
- **価値**: 強調したいセリフや単語を視覚的に目立たせ、動画の表現力を豊かにする。

## P2: 利便性の向上 (高優先度)

### 1. プレビュー機能
- **概要**: 特定のシーンやラインだけを高速にレンダリングし、プレビューする機能を追加する。
- **実装案**: `--preview-scene <scene_id>` や `--preview-line <line_id>` のようなコマンドライン引数を追加し、指定された部分のみを処理するロジックを実装する。
- **価値**: フルレンダリングには時間がかかるため、細かい調整（字幕の位置、キャラクターの表情など）を素早く確認でき、制作効率が大幅に向上する。

### 2. Web UIによるスクリプト編集・プレビュー
- **概要**: ブラウザ上でYAMLスクリプトを編集し、リアルタイムでプレビューを確認できるWebインターフェースを提供する。
- **実装案**: `Flask` や `FastAPI` でバックエンドを構築し、フロントエンドはシンプルなHTML/JavaScriptで実装する。WebSocketを使ってリアルタイム更新を実現する。
- **価値**: YAMLに不慣れなユーザーでも直感的に動画を制作できるようになり、ツールの裾野が広がる。

## P3: 拡張性・その他

### 1. プラグイン機構の導入
- **概要**: 新しいビデオエフェクトやオーディオフィルタ、トランジションなどをユーザーが独自に追加できるプラグインシステムを導入する。
- **実装案**: 特定のディレクトリに配置されたPythonスクリプトを動的に読み込み、パイプラインの各ステップにフックさせる仕組みを構築する。
- **価値**: コミュニティによる機能拡張が可能になり、ツールがより多機能で魅力的なものへと成長する。
