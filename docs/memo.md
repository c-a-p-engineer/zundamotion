# メモ

## プロンプト

### タスクの実行

1. [AI_README.md](AI_README.md) を読んでからタスクに取り組んでください。
1. TODO.md を作成してあなたがこれからやる作業をチェックリスト化してください。
	1. 作業に変更があれば都度追記や修正を行ってください。
	1. 作業が完了したら作業が終了したとわかるようにチェックを入れてください。
1. [tasks.md](tasks.md) の中から優先度の高いタスク1件取り掛かってください。
1. タスクが完了したら [tasks.md](tasks.md) から該当タスクを削除してください。
1. 必要があれば [AI_README.md](AI_README.md) [README.md](README.md) の更新をしてください。
1. 該当作業の作業内容をコミットするためのコミット文を TODO.md に記載してください。 

### タスクの整理

1. [AI_README.md](AI_README.md) を読んでからタスクに取り組んでください。
1. /workspace/logs ディレクトリに存在する最新ログを確認して実装の確認。
1. ログを解析してボトルネックをタスクとして既存のタスクと比較して優先度を考えて [tasks.md](tasks.md) に記載。
	1. 優先度順に記載
	2. 優先度は品質向上、高速化（微高速化なら優先度は低い）、動画ツールの新機能 or 新機能拡充
1. 必要があれば [AI_README.md](AI_README.md) [README.md](README.md) の更新をしてください。

### 立ち絵生成プロンプト

```
添付画像で1px単位でキャラクターを解析して把握してください。
可能であれば背景は透過、出来なければ背景はクロマキー合成用に影などの考慮はしないで、単色で #fffに統一してください。
キャラクターの大きさ、位置は決して変更しないでください。
足、腰、肩の位置を完全に固定。
目の色の変更はしないこと。
これはゲーム用の立ち絵のため表情差分以外は作らないでください。

以下の指定部分のみ変更してください。

以下のパターンを順次生成してください。
顔は笑顔に。
笑顔ポーズにしてすべて同一のポーズにしてください。
目の色は赤！！

1. 目開け、口閉じ
1. 1を元にして口少しだけ開く（口だけ変更
1. 1を元にして喋り中の口（口だけ変更
1. 1を元に目閉じ（目だけ変更
```

## コマンド

## テスト用

```
python -m zundamotion.main --no-cache scripts/sample.yaml
```

### キャラクターの背景透過png作成

```
python ./tools/remove_bg_ai.py --input /workspace/assets/characters/engy/default --output /workspace/assets/characters/engy/default --model isnet-anime --force-gpu --recursive
```
