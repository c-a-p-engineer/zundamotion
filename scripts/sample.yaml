meta:
  title: "キャラクターごとのデフォルト設定サンプル"
  version: 3

defaults:
  characters:
    zundamon:
      speaker_id: 3
      speed: 1.1
      pitch: 0.05
      subtitle:
        font_color: "#90EE90" # LightGreen
        stroke_color: "white"
    metan:
      speaker_id: 6
      speed: 0.95
      subtitle:
        font_color: "#E6E6FA" # Lavender
        stroke_color: "black"

scenes:
  - id: subtitle_zundamon
    bg: "assets/bg/room.png"
    lines:
      - text: "こんにちは！ずんだもんです。この字幕はキャラクターデフォルト色なのだ。"
        speaker_name: "zundamon"
        characters:
          - name: "zundamon"
            expression: "normal"
            visible: true

      - text: "このセリフだけ、字幕の色を変えてみるのだ。"
        speaker_name: "zundamon"
        subtitle:
          font_color: "yellow" # この行だけデフォルトを上書き
        characters:
          - name: "zundamon"
            expression: "normal"
            visible: true

      - text: "私は四国めたん。私の字幕もデフォルト設定よ。"
        speaker_name: "metan"
        characters:
          - name: "metan"
            expression: "normal"
            visible: true

      - text: "このプロジェクト、なかなか面白いじゃない。"
        speaker_name: "metan"
        subtitle:
          stroke_color: "red" # この行だけ縁取りの色を上書き
        characters:
          - name: "metan"
            expression: "normal"
            visible: true

  - id: voice_zundamon
    bg: "assets/bg/room.png"
    lines:
      - text: "こんにちは！ずんだもんです。これはデフォルト設定で話しているのだ。"
        speaker_name: "zundamon"
        characters:
          - name: "zundamon"
            expression: "normal"
            visible: true

      - text: "このセリフだけ、少しゆっくり話してみるのだ。"
        speaker_name: "zundamon"
        speed: 0.9 # この行だけデフォルトを上書き
        characters:
          - name: "zundamon"
            expression: "normal"
            visible: true

      - text: "私は四国めたん。私もデフォルト設定よ。"
        speaker_name: "metan"
        characters:
          - name: "metan"
            expression: "normal"
            visible: true

      - text: "このプロジェクト、なかなか面白いじゃない。"
        speaker_name: "metan"
        pitch: -0.1 # この行だけデフォルトを上書き
        characters:
          - name: "metan"
            expression: "normal"
            visible: true

  - id: intro
    bg: "assets/bg/sample_video.mp4"    # シーン背景 (動画ファイル)
    bgm:                                # BGM設定
      path: "assets/bgm/intro.wav"      # BGMファイルパス
      volume: 0.1                       # BGM音量 (0.0-1.0, オプション)
      fade_in_duration: 2.0             # フェードインの長さ (秒, オプション)
      fade_out_duration: 1.5            # フェードアウトの長さ (秒, オプション)
    lines:
      - wait: 2
      - text: "背景ビデオと効果音、待機のテストなのだ！" # セリフテキスト (必須)
        speaker_id: 3 # 明示的にVOICEVOX ID 3 を指定
        speaker_name: "zundamon" # 話しているキャラクターの名前
        sound_effects: # セリフと同時に再生する効果音
          - path: "assets/se/rap_fanfare.mp3"
            start_time: 3.0 # セリフ開始と同時に再生
            volume: 0.5

      - wait: 2
      - text: "" # 音単体で再生する効果音
        sound_effects:
          - path: "assets/se/rap_fanfare.mp3"
            start_time: 0.0 # シーン開始から0.0秒後に再生 (デフォルト: 0.0)
            volume: 0.7 # (デフォルト: 1)

      - text: "これから自己紹介の動画をはじめるのだ。"
        speaker_id: 3 # ずんだもんのスピーカーID
        speaker_name: "zundamon" # 話しているキャラクターの名前
        characters: # キャラクター設定リスト
          - name: "zundamon"
            expression: "whisper" # voice_style: whisper を expression: whisper に変更
            position: {"x": "0", "y": "0"}
            scale: 0.8
            anchor: "bottom_center"
            visible: true
        speed: 1.1                      # 音声速度 (0.5-2.0, オプション)
      - text: "最後まで見てくれると嬉しいのだ！"
        voice_style: whisper # キャラクター定義のwhisperスタイル（ID 22）を使用
        speaker_name: "zundamon" # 話しているキャラクターの名前
        characters: # キャラクター設定リスト
          - name: "zundamon"
            expression: "normal" # 元のvoice_style: whisper から normal に戻す（例として）
            position: {"x": "0", "y": "0"}
            scale: 0.8
            anchor: "bottom_right"
            visible: true
        pitch: 0.3                      # 音声ピッチ (-1.0-1.0, オプション)
    transition: # introシーンの後に適用されるトランジション
      type: "fade" # トランジションの種類 (例: fade, dissolve, wipeleftなど)
      duration: 1.0 # トランジションの期間 (秒)

  - id: topic
    bg: "assets/bg/street.png"
    bgm:                                # BGM設定
      path: "assets/bgm/street.wav"     # BGMファイルパス
      volume: 0.2                       # BGM音量 (0.0-1.0, オプション)
    lines:
      - wait: 2
      - text: "私はメタンよ" # セリフテキスト (必須)
        speaker_id: 6 # 明示的にVOICEVOX ID 6 を指定
        speaker_name: "metan" # 話しているキャラクターの名前
        characters: # キャラクター設定リスト
          - name: "metan"
            expression: "normal" # voice_style: normal を expression: normal に変更
            position: {"x": "0", "y": "0"} # アンカーポイントからのオフセット (ピクセル単位)
            scale: 0.8
            anchor: "middle_center"
            visible: true
      - text: "趣味は新しいツールを試すこと！"
        speaker_id: 6 # メタンのスピーカーID
        speaker_name: "metan" # 話しているキャラクターの名前
        characters: # キャラクター設定リスト
          - name: "metan"
            expression: "normal" # voice_style: normal を expression: normal に変更
            position: {"x": "0", "y": "0"}
            scale: 0.8
            anchor: "bottom_center"
            visible: true
        speed: 0.95                     # 音声速度 (0.5-2.0, オプション)
      - text: "このチャンネルでは、便利なスクリプトや動画制作のコツを紹介するのよ。"
        speaker_id: 6 # 明示的にVOICEVOX ID 6 を指定
        speaker_name: "metan" # 話しているキャラクターの名前
        characters: # キャラクター設定リスト
          - name: "metan"
            expression: "normal" # voice_style: normal を expression: normal に変更
            position: {"x": "0", "y": "0"}
            scale: 0.8
            anchor: "bottom_center"
            visible: true
    transition: # topicシーンの後に適用されるトランジション
      type: "dissolve" # 別のトランジションタイプを試す
      duration: 0.8 # 短めの期間

  - id: outro
    bg: "assets/bg/sunset.png"
    bgm:                                # BGM設定
      path: "assets/bgm/sunset.wav"     # BGMファイルパス
      volume: 0.3                       # BGM音量 (0.0-1.0, オプション)
      start_time: 1.0                   # BGMの開始時間 (秒, オプション)
    lines:
      - wait: 2
      - text: "今日は見てくれて、ありがとうなのだ！" # セリフテキスト (必須)
        speaker_id: 3 # キャラクター名 (必須, assets/characters/以下にディレクトリが存在すること)
        speaker_name: "zundamon" # 話しているキャラクターの名前
        characters: # キャラクター設定リスト
          - name: "zundamon"
            expression: "normal" # expression を normal に設定
            position: {"x": "300", "y": "500"}
            visible: true
      - text: "（画像を右下に小さく表示するのだ）"
        speaker_id: 3
        speaker_name: "zundamon"
        insert:
          path: "assets/bg/room.png"
          duration: 3.0
          scale: 0.3
          anchor: "bottom_right"
          position: {"x": "-20", "y": "-20"}
      - text: "（動画を再生するのだ！）"
        speaker_id: 3
        speaker_name: "zundamon"
        insert:
          path: "assets/bg/countdown.mp4"
          scale: 0.8
          anchor: "middle_center"
          position: {"x": "20", "y": "20"}
          volume: 0.2
      - text: "チャンネル登録と高評価、よろしくお願いします！"
        speaker_id: 3 # ずんだもんのスピーカーID
        speaker_name: "zundamon" # 話しているキャラクターの名前
        characters: # キャラクター設定リスト
          - name: "zundamon"
            expression: "normal" # expression を normal に設定
            position: {"x": "300", "y": "500"}
            visible: true
        speed: 1.05                     # 音声速度 (0.5-2.0, オプション)
